# conda.local

A local install of anaconda... just drop this anywhere and run install.
__Note__: depending on how old the `Miniconda3-latest-*.sh` file is, it might
make sense to update it. Simply run:
```bash
./update_installer
```

## Installing:

For linuxy defaults, just run:
```bash
./install_conda.sh
```
But this won't work on your friendly neighbourhood supercomputer -- cf. below.
There are two settings to consider:
1. `USE_PPC`: if `true`, this setting uses the PowerPC conda isntaller (instead
   of intel)
2. `USE_CC`: if `true`, this setting uses the `cc` compiler wrapper with the
   `-shared` option (instead of `mpicc`).

### Site-specific Settings

Currently this repo supports two site-specific settings:
1. NERSC
2. OLCF

If you want to install on any of these systems, then just `source sites/nersc.sh`
or `source sites/olcf.sh` before isntalling. For example on NERSC's systems:
```bash
source sites/nersc.sh
./install_conda.sh
```


## Using

Just run:
```bash
source env.sh
```

If you want to clean up your path, just run `source unenv.sh` to restore `PATH`.


### Files

1. `miniconda3` -- the install dir for the local anaconda tool (and everything
   it installs, including environments).

2. `tmp` -- a temporary directory used by installers. This should be empty
   (installers clean up after themselves unless something goes wrong).

3. `env.local` -- setings local to this install. This file is generated by
   `install_conda.sh` and used by `env.sh` to set the `PATH`.


## The Nuclear Option

Run
```bash
./nuke_all.sh
```
to delete your local install and settings.
